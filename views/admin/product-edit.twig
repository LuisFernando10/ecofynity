
{% extends "base-document.twig" %}
    {% block content %}
        <div class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="offset-md-2 col-md-8">
                        <div class="card">
                            <div class="card-header card-header-primary">
                                <div class="row align-items-center">
                                    <div class="col-8">
                                        <h5 class="card-title">Editar Producto {{ data_producto_edit.nombre }}</h5>
                                    </div>
                                    <div class="col-4 text-right">
                                        <a href="{{general.full_web_url}}producto/"><button type="button" class="btn btn-info">Volver</button></a>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body js-producto-frm-edit">

                                {# nombre #}
                                <div class="form-row mt-3">
                                    <div class="offset-md-2 col-md-6">
                                        <div class="form-group bmd-form-group">
                                            <label>nombre</label>
                                            <input type="text" class="form-control js-producto-nombre" value="{{ data_producto_edit.nombre }}">
                                        </div>
                                    </div>
                                </div>

                                {# Adultos-Preço #}
                                <div class="form-row mt-3">
                                    <div class="form-group col-md-6">
                                        <label for="select-adults">Categoría</label>
                                        <select class="form-control js-producto-categoria" id="select-adults">
                                            <option  disabled class="">Selecionar</option>
                                            {% for categoria in data_categories %}
                                                {% if data_producto_edit.id_categoria == categoria.id_categoria %}
                                                    <option selected value="{{ categoria.id_categoria }}">{{categoria.nombre}}</option>
                                                {% else %}
                                                    <option value="{{ categoria.id_categoria }}">{{categoria.nombre}}</option>
                                                {% endif %}
                                            {% endfor %}
                                        </select>
                                    </div>

                                    <div class="form-group col-md-3">
                                        <label style="top: 5px">Precio</label><br style="margin-bottom: 3px">
                                        <input type="text" class="form-control mt-2 js-producto-precio" value="{{ data_producto_edit.precio }}">
                                    </div>
                                    <div class="form-group col-md-3">
                                        <label style="top: 5px">Descuento</label><br style="margin-bottom: 3px">
                                        <input type="text" class="form-control mt-2 js-producto-descuento" value="{{ data_producto_edit.descuento }}">
                                    </div>
                                </div>

                                {# Descripción #}
                                <div class="form-row mt-4">
                                    <div class="form-group col-md-12">
                                        <label>Descripción</label>
                                        <textarea type="text" class="form-control js-producto-descripcion">{{ data_producto_edit.descripcion }}</textarea>
                                    </div>
                                </div>

                                {# Imagem #}
                                <div class="form-group form-file-upload form-file-simple mt-4">
                                    <label>Imagen</label><br>
                                    <div class="input-group">
                                        <input type="file" class="inputFileHidden js-producto-image">
                                        <input type="text" class="form-control inputFileVisible" value="" readonly>

                                        {# '<input-hidden>' para guardar temporalmente el nombre del archivo anteior y asi tenerlo de referencia para eliminar el mismo en caso de que se actualice #}
                                        <input type="hidden" class="js-input-file-edit" value="{{ data_producto_edit.imagen }}">

                                        <span class="input-group-btn js-icon-open-input-file">
                                            <button type="button" class="btn btn-fab btn-round btn-primary">
                                                <i class="material-icons">attach_file</i>
                                            </button>
                                        </span>
                                    </div>
                                </div>

                                <div class="form-row mt-4">

                                    {# Imagem #}
                                    <div class="form-group col-md-4">
                                        <div class="img-container">
                                            <img class="img-thumbnail" src="{{ general.full_images_url }}/galery/{{ data_producto_edit.imagen }}" rel="nofollow" alt="Producto">
                                        </div>
                                    </div>

                                    {# Estado #}
                                    <div class="form-group col-md-6 ml-5 mt-5">
                                        <label for="select-estado">Estado</label>
                                        <select class="form-control js-producto-estado" id="select-estado">
                                            <option {{ (data_producto_edit.estado == 'Activo') ? 'selected' : '' }} value="Activo">Activo</option>
                                            <option {{ (data_producto_edit.estado == 'Innactivo') ? 'selected' : '' }} value="Innactivo">Innactivo</option>
                                        </select>
                                    </div>
                                </div>

                                {# Botao de salvar #}
                                <button type="submit" class="btn btn-primary pull-right btn-edit" data-id="{{ data_producto_edit.id_producto }}">Guardar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {% endblock %}

    {% block footer_scripts %}
        <script type="text/javascript" src="{{ general.full_assets_url }}js/admin/products.js"></script>

    {% endblock %}